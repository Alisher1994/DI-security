<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PRO LOGISTICS - –ú–∞—à–∏–Ω–∏—Å—Ç</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="app" class="full-height">
        <!-- Header -->
        <div class="driver-header">
            <div class="driver-stats">
                <div class="stat-badge activity">
                    <span class="stat-value" id="activity-val">95</span>
                    <span class="stat-label">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</span>
                </div>
            </div>
            <div style="font-weight:bold; font-size:14px; color:#ff3b30;" id="machine-name">
                JCB 3CX Super
            </div>
            <div class="driver-profile-icon">
                <img src="https://cdn-icons-png.flaticon.com/512/847/847969.png" alt="Profile">
            </div>
        </div>

        <!-- Main Status Area -->
        <div class="driver-main-area relative">

            <!-- Offline Screen (Locked) -->
            <div id="offline-screen" class="screen-view">
                <div class="status-circle offline" id="status-circle">
                    <div class="status-icon" id="status-icon">üõë</div>
                </div>
                <h2 class="status-text" id="status-text">–ù–µ –Ω–∞ –ª–∏–Ω–∏–∏</h2>
                <button class="go-online-btn" id="go-online-btn" onclick="toggleStatus()">–ù–∞ –ª–∏–Ω–∏—é</button>
            </div>

            <!-- Online Screen (Map / Active) -->
            <div id="online-screen" class="screen-view hidden">
                <div id="map" style="width: 100%; height: 100%; z-index: 1;"></div>

                <!-- Floating Status Float -->
                <div class="floating-status" style="z-index: 2;">
                    <div class="pulse-indicator"></div>
                    <span>–ü–æ–∏—Å–∫ –∑–∞–∫–∞–∑–æ–≤...</span>
                </div>

                <!-- Go Offline FAB (Floating Action Button) or Menu -->
                <button class="fab-menu" onclick="toggleStatus()" style="z-index: 2;">üõë</button>

                <!-- Incoming Order Modal -->
                <div id="order-offer" class="order-offer-card hidden" style="z-index: 100;">
                    <div class="offer-header">
                        <div class="offer-type">–ó–∞–∫–∞–∑: –≠–∫—Å–∫–∞–≤–∞—Ç–æ—Ä</div>
                        <div class="offer-price">350 000 —Å—É–º/—á</div>
                    </div>
                    <div class="offer-stats">
                        <div class="stat-box">
                            <span class="offer-val">~2.5 –∫–º</span>
                            <span class="offer-lbl">–¥–æ –ø–æ–¥–∞—á–∏</span>
                        </div>
                        <div class="stat-box">
                            <span class="offer-val">~10 –º–∏–Ω</span>
                            <span class="offer-lbl">–µ—Ö–∞—Ç—å</span>
                        </div>
                    </div>
                    <div class="offer-address">
                        <div class="address-label">–ö—É–¥–∞:</div>
                        <div class="address-text">–¢–∞—à–∫–µ–Ω—Ç, —É–ª. –ê–º–∏—Ä–∞ –¢–µ–º—É—Ä–∞, 108</div>
                    </div>
                    <div class="offer-actions">
                        <button class="btn-skip" onclick="skipOrder()">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
                        <button class="btn-accept" onclick="acceptOrder()">–ü—Ä–∏–Ω—è—Ç—å</button>
                    </div>
                    <!-- Timer Bar -->
                    <div class="offer-timer-bar">
                        <div class="timer-progress"></div>
                    </div>
                </div>

                <!-- Active Order / Navigation Panel -->
                <div id="active-order-panel" class="order-offer-card hidden"
                    style="z-index: 100; bottom: 0; left: 0; right: 0; border-radius: 20px 20px 0 0; border:none; border-top:1px solid #444;">
                    <div class="offer-header">
                        <div class="offer-type">–í –ø—É—Ç–∏ –∫ –∫–ª–∏–µ–Ω—Ç—É</div>
                        <div class="offer-price" id="nav-dist">2.5 –∫–º</div>
                    </div>
                    <div class="offer-address">
                        <div class="address-label">–ö—É–¥–∞:</div>
                        <div class="address-text">–¢–∞—à–∫–µ–Ω—Ç, —É–ª. –ê–º–∏—Ä–∞ –¢–µ–º—É—Ä–∞, 108</div>
                    </div>
                    <div class="offer-actions">
                        <button class="btn-primary"
                            style="background:#4CAF50; color:#fff; width:100%; padding:16px; border-radius:12px; font-size:18px; font-weight:bold; border:none;"
                            onclick="completeOrder()">
                            –ü—Ä–∏–±—ã–ª–∏ –Ω–∞ –º–µ—Å—Ç–æ
                        </button>
                    </div>
                </div>
            </div>

        </div>

        <!-- Bottom Dashboard -->
        <div class="driver-dashboard">
            <div class="dash-item">
                <div class="dash-label">–ó–∞ —Å–µ–≥–æ–¥–Ω—è</div>
                <div class="dash-value" id="earnings-val">125 000 —Å—É–º</div>
            </div>
            <div class="dash-item">
                <div class="dash-label">–ó–∞–∫–∞–∑—ã</div>
                <div class="dash-value">8</div>
            </div>
        </div>
    </div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="script.js"></script>
</body>

</html>
